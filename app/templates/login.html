<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 - 现代股票分析系统</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='login_style.css') }}">
</head>
<body>
    <div class="login-container">
        <div class="login-header">
            <h1>🔐 系统登录</h1>
            <p>Enhanced v3.0-Web-SSE 股票分析系统</p>
        </div>

        {% if error %}
        <div class="error-message">
            {{ error }}
        </div>
        {% endif %}

        {% if success %}
        <div class="success-message">
            {{ success }}
        </div>
        {% endif %}

        <form method="POST">
            <div class="form-group">
                <label for="password">访问密码</label>
                <input type="password" id="password" name="password" 
                       class="form-control" placeholder="请输入访问密码" required>
            </div>
            
            <button type="submit" class="btn">
                🚀 登录系统
            </button>
        </form>

        <div class="login-footer">
            <p>🔒 系统采用密码鉴权保护</p>
            <p>🛡️ 会话将在 {{ session_timeout }} 分钟后过期</p>
            <p>🌊 支持SSE流式推送</p>
        </div>
    </div>

    <script>
        document.getElementById('password').focus();
        
        document.querySelector('form').addEventListener('submit', function() {
            const btn = document.querySelector('.btn');
            btn.disabled = true;
            btn.textContent = '🔄 登录中...';
            
            setTimeout(() => {
                btn.disabled = false;
                btn.textContent = '🚀 登录系统';
            }, 3000);
        });
    </script>
</body>
</html>